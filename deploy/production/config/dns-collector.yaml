server:
  udp_port: 5353

database:
  host: "postgres"
  port: 5432
  user: "dns_collector"
  password: ""  # Set via POSTGRES_PASSWORD environment variable
  database: "dns_collector"
  ssl_mode: "disable"  # Set via POSTGRES_SSL_MODE environment variable

resolver:
  interval_seconds: 300  # 5 minutes - production interval
  max_resolv: 10
  timeout_seconds: 10
  workers: 10  # More workers for production
  cyclic_resolv: true  # Enable cyclic resolution (reset after max_resolv)
  resolv_cooldown_mins: 240  # Cooldown between cycles (4 hours)

logging:
  level: "info"  # info level for production

retention:
  stats_days: 30  # Keep statistics for 30 days (1 month)
  cleanup_interval_hours: 24  # Run cleanup every 24 hours (once per day)
  ip_ttl_days: 3  # IP addresses TTL (3 days) - only active domains have old IPs cleaned

metrics:
  enabled: true
  port: 9090
  path: "/metrics"
  influxdb:
    enabled: false
    url: "https://influxdb:8086"
    token: ""  # Set via INFLUXDB_TOKEN environment variable
    organization: "my-org"
    bucket: "dns-metrics"
    interval_seconds: 10
    insecure_skip_verify: false  # Set to true for self-signed certificates
